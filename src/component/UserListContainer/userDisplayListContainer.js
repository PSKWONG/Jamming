import React, { useEffect, useState } from 'react';
import userResultStyles from './userDisplayList.module.css'
import { SongDetailContainer } from '../SongDetailContainer/songDetailContainer';

export function UsertDisplayContainer(props) {


    function resetPlayListName() {
        props.setPlaylistName('');
    }

    function handleInputBox(event) {
        props.setPlaylistName(event.target.value);
    }

    function handleInputFocusOut(event) {
        if (!event.target.value) {
            props.setPlaylistName('New Playlist')
        }
    }

    //Track Display List is generated by the Search result by mapping  
    let resultlistItems
    if (props.playlistTracks.length != 0) {
        resultlistItems = props.playlistTracks.map(
            (trackInfo) => {
                console.log(trackInfo)
                return <SongDetailContainer trackInfo={trackInfo} setAction={props.setAction} setpendingTrackInfo={props.setpendingTrackInfo} button="-" />
            }
        )
    }



    return (
        <div className={userResultStyles.userDisplayContainer}>
            <input type='text' className={userResultStyles.titleInput} value={props.playlistName} onChange={handleInputBox} onClick={resetPlayListName} onBlur={handleInputFocusOut}></input>

            <div className={userResultStyles.userListContainer}>
                {resultlistItems}
            </div>
            <input className={userResultStyles.exportButton} type='submit' value="Export to Plyalist" ></input>
        </div>
    );
}

